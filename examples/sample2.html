<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phonenumber Validator Example</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../dist/bsms-phonenumber-validator.min.js"></script>
<!--
    <script src="../../captcha-wrapper/src/bsms-captcha-wrapper.js"></script>
    <script src="../../country-picker/src/bsms-country-picker.js"></script>
    <script src="../../code-picker/src/bsms-code-picker.js"></script>
    <script src="../../overlay/src/bsms-overlay.js"></script>
    <script src="../src/bsms-phonenumber-validator.js"></script>
    <link rel="stylesheet" href="../../country-picker/src/bsms-country-picker.css">
    <link rel="stylesheet" href="../../code-picker/src/bsms-code-picker.css">
    <link rel="stylesheet" href="../../overlay/src/bsms-overlay.css">
    <link rel="stylesheet" href="../src/bsms-phonenumber-validator.css">
-->
    <style>
        h2, label, input {
            font-family: arial
        }

        input {
            width: 355px;
            height: 28px;
            font-size: 12px;
            padding: 0;
            margin: 0
        }
    </style>
</head>
<body>
    <h2>Example Registration Form</h2>
    <form>
        <br><br><label for="username">Username</label>
        <br><br><input id="username" type="text">
        <br><br><label for="phonenbr">Phonenumber</label>
        <br><br><input id="phonenbr" type="text" class="phonenumber-validator-container" value="+421234567890">
        <br><br><input id="submit" type="submit" value="Register" disabled/>
    </form>
    <script>
        $(() => {
            // Apply the phonenumber-validator to the container
            const bpnv = $('.phonenumber-validator-container').bsmsPhonenumberValidator({
                twofaSitekey: "yrNSeICcN6HNwDIZ7DffL5lyN8bM9mqRRnzHF8zJWjtWK9ZC2zy3dL8qyOMXfnAMuUvpG1Iyy5KPJ47ulD5oPQS6H6JW2dmkmnl0aK87n2ReuBWbaUOKF1GdNydIngOE",
                showCredits: false
            })                
                .onSolved( onSolved )
                .onLoad(   onLoad   )
                .onExpired(onExpired)
                .onError(  onError  );
        });        
        function onSolved( p) { 
            console.log(`phonenumber-validator.onSolved  ${p}`); 
            $('#submit').prop("disabled",false); 
        }

        function onLoad(   p) { 
            console.log(`phonenumber-validator.onLoad    ${p}`); 
            $('#submit').prop("disabled",true ); 
        }

        function onExpired(p) { 
            console.log(`phonenumber-validator.onExpired ${p}`); 
            $('#submit').prop("disabled",true ); 
        }

        function onError(  p) { 
            console.log(`phonenumber-validator.onError   ${p}`); 
            $('#submit').prop("disabled",true ); 
        }
    </script>
</body>
</html>
